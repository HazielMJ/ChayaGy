<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>...Chayagym...</title>
<link rel="stylesheet" href="EstiloCrro.css" type="text/css"/>
</head>
<body class="main-container">
  <div class="header">
    <div class="logo">
      <a href="index.html"><img src="Img/logo.png" alt="Chayagym" width="100" height="100"></a>
    </div>
    <div class="Nombre">
      <h1>Chayagym</h1>
    </div>
    <div class="dropdown">
      <button onclick="toggleDropdown()" class="dropbtn">Categorias</button>
      <div id="myDropdown" class="dropdown-content">
        <a href="Suplementos.html">Suplementos</a>
        <a href="Bebidas.html">Bebidas energeticas y deportivas</a>
        <a href="Equipo.html">Equipo</a>
        <a href="Ropa.html">Ropa</a>
        <a href="Accesorios.html">Accesorios</a>
      </div>
    </div>
    <div class="cart-icon">
      <a href="Carro.html"><img src="Img/Carrito.png" alt="Icono del Carrito" width="70" height="70"></a>
    </div>

    <button class="login"><a href="Login.html" class="login">Iniciar Sesión</a></button>
  </div>
  
<script>
  function toggleDropdown() {
  var dropdownContent = document.getElementById("myDropdown");
  dropdownContent.classList.toggle("show");
}

// Cerrar el menú si el usuario hace clic fuera de él
window.onclick = function(event) {
  if (!event.target.matches('.dropbtn')) {
    var dropdowns = document.getElementsByClassName("dropdown-content");
    var i;
    for (i = 0; i < dropdowns.length; i++) {
      var openDropdown = dropdowns[i];
      if (openDropdown.classList.contains('show')) {
        openDropdown.classList.remove('show');
      }
    }
  }
}

</script>


<button class="menu-btn" onclick="toggleMenu()">Mi Lista</button>
<div class="menu" id="menu">
  <ul id="menu-items">
    <!-- Elementos de la lista se agregarán aquí -->
  </ul>
  <button class="realizar-compra-btn" onclick="realizarCompra()">Realizar Compra</button>
</div>
<h2>Mas Vendidos</h2>
<div class="container">
  <div class="row">
    <div class="item">
        <img src="img/4bull.png" alt="4Red Bull" class="Prod">
      
        <div class="product-info">
            <p>Red Bull 4 pzas</p>
            <p>Red Bull Bebida Energética 4 pzas de 250 ml</p>
            <p>Precio: $168.00</p>
            <button class="boton-carro" onclick="agregarAlCarro('4Bull', 168)">Agregar al Carro</button>
          </div>
    </div>
    <div class="item">
      <img src="img/Monster12.png" alt="Producto" class="Prod">
    
      <div class="product-info">
        <p>Monster Energy 12</p>
        <p>Bebida energizante de 10.5 onzas líquidas, paquete de 12</p>
        <p>Precio: $650.00</p>
        <button class="boton-carro" onclick="agregarAlCarro('Monster Energy 12', 650.00)">Agregar al Carro</button>
        </div>
    </div>
    <div class="item">
        <img src="img/PantalonD.png" alt="Producto" class="Prod">
      
        <div class="product-info">
          <p>Paquete de 4 pantalones cortos</p>
          <p>Ultra Performance - Paquete de 4 pantalones cortos deportivos para correr para hombre, con entrepierna de 7 pulgadas</p>
          <p>Precio: $591.00</p>
          <button class="boton-carro" onclick="agregarAlCarro('PantalonD', 591)">Agregar al Carro</button>
      </div>
    </div>
    <div class="item">
      <img src="img/Creatine.png" alt="Creatine" class="Prod">
    
      <div class="product-info">
        <p>GAT Creatina 1.00 kg (200 Servicios) Creatine monohydrate</p>
        <p>Marca:	Genérico</p>
        <p>Sabor:	Sin sabor</p>
        <p>Cantidad de unidades:	1000.00 gramo</p>
        <p>Precio: $999.00</p>
        <button class="boton-carro" onclick="agregarAlCarro('Creatine', 999)">Agregar al Carro</button>
        </div>
  </div>
  </div>
  <h2>Recien Agregados</h2>
  <div class="container">
<div class="row">
  <div class="item">
      <img src="img/PesasTob.png" alt="Producto" class="Prod">
    
      <div class="product-info">
        <p>Wodoso Tobillera y muñequera </p>
        <p>Wodoso Tobillera y muñequera, dos correas de contrapeso de 1 libra,(2LB (2X1LB)) (negra)</p>
        <p>Precio: $269.00</p>
        <button class="boton-carro" onclick="agregarAlCarro('Wodoso Tobillera y muñequera', 269)">Agregar al Carro</button>
        </div>
    </div>
    <div class="item">
      <img src="img/Rocket6.png" alt="Producto" class="Prod">
    
      <div class="product-info">
        <p>Rocket 6 pzas</p>
        <p>Bebida energizante Rocket High 6 pzas con 473 ml c/u</p>
        <p>Precio: $263.00</p>
        <button class="boton-carro" onclick="agregarAlCarro('Rocket 6 pzas', 263)">Agregar al Carro</button>
        </div>
    </div>
    <div class="item">
      <img src="img/Multicorrea.png" alt="Producto" class="Prod">
      
      <div class="product-info">
        <p>Elite Fitness Paquete con Vendas</p>
        <p>Elite Fitness Paquete con Vendas para Rodilla, muñequeras, y Straps para Gimnasio, Kit para Levantamiento de Pesas</p>
        <p>Precio: $589.00</p>
        <button class="boton-carro" onclick="agregarAlCarro('Paquete', 589)">Agregar al Carro</button>
        </div>
  </div>
    <div class="item">
      <img src="img/Psychotic.png" alt="Psychotic" class="Prod">
      
      <div class="product-info">
        <p>Pre Entreno Psychotic Insane Labz 30 Servicios Sabor Manzana</p>
        <p>Unidades por pack: 1</p>
        <p>Formato de venta: Unidad</p>
        <p>Componente principal: psychotic blend.</p>
        <p>Porciones por envase: 35.</p>
        <p>Precio: $409.00</p>
        <button class="boton-carro" onclick="agregarAlCarro('Psychotic', 409)">Agregar al Carro</button>
        </div>
  </div>
</div>
</div>

<div id="carrito"></div>

<script>
function getImageSource(producto) {
  var imagenPorProducto = {
    "4Bull": "img/4bull.png",
    "Monster Energy 12": "img/Monster12.png",
    "PantalonD": "img/PantalonD.png",
    "Creatine": "img/Creatine.png",
    "Wodoso Tobillera y muñequera": "img/PesasTob.png",
    "Rocket 6 pzas": "img/Rocket6.png",
    "Paquete": "img/Multicorrea.png",
    "Psychotic": "img/Psychotic.png",
    // Agrega más productos y rutas de imágenes según sea necesario
  };
  // Devuelve la ruta de la imagen correspondiente al producto
  return imagenPorProducto[producto];
}

// Objeto para llevar el registro de la cantidad de productos en el carrito
var carritoProductos = {};

function toggleMenu() {
  var menu = document.getElementById("menu");
  menu.classList.toggle("active");

  if (menu.classList.contains("active")) {
    // Mostrar los datos en el menú
    mostrarDatos();
  }
}

function mostrarDatos() {
  // Ocultar el div que contiene el mensaje
  var mensajeCarrito = document.getElementById("carrito");
  mensajeCarrito.style.display = "none";

  var listaMenu = document.getElementById("menu-items");
  listaMenu.innerHTML = ""; // Limpiar la lista antes de agregar nuevos elementos

  var total = 0;

  // Agregar cada producto al menú "Mi Lista"
  Object.keys(carritoProductos).forEach(function(producto) {
    var cantidad = carritoProductos[producto].cantidad;
    var precioUnitario = carritoProductos[producto].precio;
    var subtotal = cantidad * precioUnitario;
    total += subtotal;

    var nuevoElemento = document.createElement("li");
    nuevoElemento.innerHTML = `<img src="${getImageSource(producto)}" alt="${producto}" class="product-image">${producto} - Cantidad: ${cantidad} - Subtotal: $${subtotal.toFixed(2)} <button class="boton-quitar" onclick="quitarDelCarro('${producto}')">Quitar</button>`;
    listaMenu.appendChild(nuevoElemento);
  });

  // Agregar el total al final de la lista
  var totalElemento = document.createElement("li");
  totalElemento.textContent = "Total: $" + total.toFixed(2);
  listaMenu.appendChild(totalElemento);

}

function agregarAlCarro(nombreProducto, precioProducto) {
  if (carritoProductos[nombreProducto]) {
    // Si el producto ya está en el carrito, incrementar la cantidad
    carritoProductos[nombreProducto].cantidad++;
  } else {
    // Si es la primera vez que se agrega el producto, establecer la cantidad en 1
    carritoProductos[nombreProducto] = { cantidad: 1, precio: precioProducto };
  }

  // Actualizar la visualización del carrito y la lista "Mi Lista"
  actualizarCarrito();
  mostrarDatos();
}

function quitarDelCarro(nombreProducto) {
  if (carritoProductos[nombreProducto]) {
    // Restar la cantidad del producto en el carrito
    carritoProductos[nombreProducto].cantidad--;

    // Si la cantidad es cero, eliminar el producto del carrito
    if (carritoProductos[nombreProducto].cantidad === 0) {
      delete carritoProductos[nombreProducto];
    }
  }

  // Actualizar la visualización del carrito y la lista "Mi Lista"
  actualizarCarrito();
  mostrarDatos();
}

function actualizarCarrito() {
  var carrito = document.getElementById("carrito");
  carrito.innerHTML = ""; // Limpiar el carrito antes de agregar nuevos elementos

  // Actualizar el contenido del carrito con la lista de productos y sus cantidades
  Object.keys(carritoProductos).forEach(function(producto) {
    var cantidad = carritoProductos[producto].cantidad;
    var nuevoElemento = document.createElement("p");
    nuevoElemento.textContent = "Producto: " + producto + ", Cantidad: " + cantidad;
    carrito.appendChild(nuevoElemento);
  });
}

  function realizarCompra() {
  // Calcula el total de la compra
  var totalCompra = calcularTotalCompra();

  // Redirige a otra página y pasa el total de la compra como parámetro
  window.location.href = "Pagos.html?total=" + totalCompra;
}

function calcularTotalCompra() {
  var total = 0;

  // Itera sobre los productos en el carrito y calcula el subtotal de cada uno
  Object.keys(carritoProductos).forEach(function(producto) {
    var cantidad = carritoProductos[producto].cantidad;
    var precioUnitario = carritoProductos[producto].precio;
    var subtotal = cantidad * precioUnitario;
    total += subtotal;
  });

  return total.toFixed(2);
}
</script>
<h2>Categorias</h2>
<div class="container">
  <div class="row">
    <div class="item">
      <img src="Img/Almohadilla.jpg"Producto" class="Prod"> 
      <button class="login"><a href="Accesorios.html" class="login">Accesorios</a></button>
    </div>
    <div class="item">
      <img src="img/B-nox.png" alt="Producto" class="Prod">
      <button class="login"><a href="Suplementos.html" class="login">Suplementos</a></button>
    </div>
    <div class="item">
      <img src="img/PantalonD.png" alt="Producto" class="Prod">
      <button class="login"><a href="Ropa.html" class="login">Ropa</a></button>
    </div>
    <div class="item">
      <img src="img/PesasTob.png" alt="Producto" class="Prod">
      <button class="login"><a href="Equipo.html" class="login">Equipo</a></button>
    </div>
    <div class="item">
      <img src="img/12Bull.png" alt="Producto" class="Prod">
      <button class="login"><a href="Bebidas.html" class="login">Bebidas</a></button>
  </div>
  </div>


  <footer class="footer">
    <div class="footer-content">
        <div class="footer-section about">
            <h2>Sobre Nosotros</h2>
            <p>Somos una tienda de artículos deportivos comprometida con la calidad y el servicio al cliente.</p>
        </div>
  
        <div class="footer-section enlaces-rapidos">
            <h2>Enlaces Rápidos</h2>
            <ul>
                <li><a href="index.html">Inicio</a></li>
                <li><a href="Carro.html">Productos</a></li>
                <li><a href="FormContac.html">Contacto</a></li>
                <li><a href="#">Términos y Condiciones</a></li>
            </ul>
        </div>
  
        <div class="footer-section contacto">
            <h2>Contacto</h2>
            <p><i class="fas fa-phone"></i> 5585296674</p>
            <p><i class="fas fa-envelope"></i> Chayagym@gmail.com</p>
        </div>
  
        <div class="footer-section ayuda">
            <h2>Necesitas Ayuda?</h2>
            <p>Si tienes alguna pregunta o necesitas asistencia, ¡no dudes en contactarnos!</p>
            <a href="FormContac.html" class="boton-regresar">Contactanos</a>
        </div>
    </div>
  
    <div class="footer-bottom">
        &copy; 2024 Chayagym | Todos los derechos reservados
    </div>
  </footer>
</body>
</html>

